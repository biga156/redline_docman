{% extends 'base.html.twig' %}

{% block title %}
	Welcome in my document manager!
{% endblock %}
{% block stylesheets %}
	<style>
		.example-wrapper{font:18px / 1.5 sans-serif;margin:1em auto;max-width:800px;width:95%}
		.example-wrapper code{background:#F5F5F5;padding:2px 6px}
	</style>
	<style>
		.flash-notice{color:red}
	</style>
{% endblock %}

{% block body %}

	{% for message in app.flashes('notice') %}
		<div class="alrt notice">
			{{ message }}
		</div>
	{% endfor %}


	<div class="example-wrapper">

		<br>
		<div class="card ">
			{% if app.user %}

				<div class="card-header primary text-center">
					<h1>
						Welcome
						{{ app.user.firstname }}
						! âœ…
					</h1>
				</div>
				<p>
				<div class="card-info bg-success text-center text-dark">
					<h4>you are logged in as
					{# loop the roles #}
					{% for role in app. user.roles %}
						{% if role == "ROLE_USER" %}
							User</h4>
							</div>
							<div class="card-body bg-primary">
								Your options in the site:
								<ul>
									<li>
										You can manage your accounts in the main menu->My profil
									</li>
									<li>
										You can create, read, edit or delete your documents in the main menu->Documents->My documents
									</li>
									<li>
										You can read all public documents in the main menu->Documents->All public documents
									</li>
									<li>
										You can upload or download files for your documents
									</li>
									<li>
										You can download files from the public documents
									</li>
									<li>
										You can set alerts for your documents (without real time notifications in this version)
									</li>
									<li>
										You can record and/or upload as audio note for all your documents
									</li>
									<li>
										If you have any questions, search the 
										<email>
											<a href="mailto:bigastora@gmail.com">administrator.</a></email>
									</li>
									
												
										
											
										
									</li>
								</ul>
							</div>
						{% elseif role == "ROLE_USER_TEMP" %}
							Non verified user</h4>
							</div>
							<div class="text-center">
								Only users who have been verified by the administrator will have access to our public documents on our site.
							</div>
							<div  class="card-body bg-primary">
								<p class="text-center">
									The administrator will soon handle your registration. If this doesn't happen within 48 days and you don't get any other notifications during this time, please
									<email><a href="mailto:bigastora@gmail.com">
										send us a message.
									</a></email>
								</p>
								In the meantime, you can choose from the following options:
								<ul>
									<li>
										You can manage your accounts in the main menu->My profil
									</li>
									<li>
										You can create, read and edit your documents in the main menu->Documents->My documents
									</li>
									<li>
										You can upload or download files for your documents
									</li>
									<li>
										If you have any questions, search the 	<email>
											<a href="mailto:bigastora@gmail.com">administrator.</a></email>
									</li>
									
									
											
										
									</li>
								</ul>
								<p>
									<h3>Attention!</h3>
								</p>
								<p>
									Please note, however, if your registration is rejected, we may delete all data you have uploaded so far.
								</p>
							</div>

						{% elseif role == "ROLE_ADMIN" %}
							Administrator</h4>
							</div>
							<div class="card-body bg-dark-mb-3">
								Your options in the site:
								<div>
									<p>
										As user:
									</p>
									<ul>
										<li>
											You can manage your accounts in the main menu->My profil
										</li>
										<li>
											You can create, read, edit or delete your documents in the main menu->Documents->My documents
										</li>
										<li>
											You can read all public documents in the main menu->Documents->All public documents
										</li>
										<li>
											You can upload or download files for your documents
										</li>
										<li>
											You can download files from the public documents
										</li>
									<li>
										You can set alerts for your documents (without real time notifications in this version)
									</li>
									<li>
										You can record and/or upload as audio note for all your documents
									</li>
									</ul>
								</div>
								<p>
									As Administrator:
								</p>
								<ul>
									<li>
										You can manage all user accounts, including: create, update, delete or change the rights of access
									</li>
									<li>
										You can manage all public documents and files, including: create, update, delete.
									</li>
									<li>
										You can manage the list of tags, including: create, update, delete.
									</li>

								</ul>
							</div>
							{% elseif role == "ROLE_USER_DISABLED" %}
							Disabled user</h4>
							</div>
							<div class="text-center">
								Only users activ will have access to the site.
							</div>
							<div  class="card-body bg-primary">
								<p class="text-center">
								<p>
								Your access has been restricted. This could have happened at your request, due to an irregularity or simply due to an error.
								</p>
								If you believe an error has 
								occurred or would like to request your reactivation, 
								please contact our <email><a href="mailto:bigastora@gmail.com">
										administrator.
									</a></email>.
								
								</p>
								
								<p>
									<h3>Note!</h3>
								</p>
								<p>
									Your previously uploaded documents will remain until your account is reactivated or permanently delete
								</p>
							</div>

						{% endif %}
					{% endfor %}
				</p>
			</div>
		{% else %}
		<div class="card">
			<div class="card-header text-center">
			<h1 class="text-center">
				Hello visitor! 
			</h1>
			</div>
			<div class="card-info text-center">
			<h4>
				You must log in to use our site!
			</h4>
			</div>
			<div class="card-body">
			
			<div>
				What is this?
						 (Coming soon)
			</div>
			<p>
				If you have any questions, send an email to our
				<email><a href="mailto:bigastora@gmail.com">administrator.</email>
			</p>
				</div>
				</div>
			{% endif %}
		</div>
	{% endblock %}
